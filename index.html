<!DOCTYPE html>
<html>
<head>
	<title>VR Architectural Walkthrough with WebXR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" sizes="180x180" href="./css/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./css/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./css/favicon/favicon-16x16.png">
    <link rel="manifest" href="./css/favicon/site.webmanifest">
    <link rel="mask-icon" href="./css/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <!-- end favicon -->
    <link type="text/css" rel="stylesheet" href="./css/common.css">
    <style>
        body{
            margin: 0;
            padding: 0;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <script src="./libs/fas.js"></script>
	<script type="module">
        import { App } from './app.js';
        
		document.addEventListener("DOMContentLoaded", function(){
			const app = new App();
			window.app = app;
		});
	</script>
    <script type="module">
        class App{
    constructor(){
        const container = document.createElement( 'div' );
        document.body.appendChild( container );

        this.assetsPath = './assets/';

        this.camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 0.01, 500 );
        this.camera.position.set( 0, 1.6, 0 );

        this.dolly = new THREE.Object3D(  );
        this.dolly.position.set(0, 0, 10);
        this.dolly.add( this.camera );
        this.dummyCam = new THREE.Object3D();
        this.camera.add( this.dummyCam );

        this.scene = new THREE.Scene();
        this.scene.add( this.dolly );

        const ambient = new THREE.HemisphereLight(0xF52D03, 0xF52D03, 0.8);
        this.scene.add(ambient);
        this.cube = new THREE.Mesh(
            new THREE.BoxBufferGeometry(2, 2, 2),
            new THREE.MeshLambertMaterial({ color: 'blue' })
        );
        this.cube.position.set(0, 1.5, 4);
        this.scene.add(this.cube);

        this.renderer = new THREE.WebGLRenderer({ antialias: true });
        this.renderer.setPixelRatio( window.devicePixelRatio );
        this.renderer.setSize( window.innerWidth, window.innerHeight );
        this.renderer.outputEncoding = THREE.sRGBEncoding;
        container.appendChild( this.renderer.domElement );
        this.setEnvironment();
    }
}
    </script>
</body>
</html>
